import{a as L,j as t,r as o,L as M,B as b}from"./index-50bb302d.js";import{c as _,d as k,u as I,e as P,s as $}from"./utils-7dc1bded.js";import{C as p,a as A}from"./Pagination-2cae3254.js";import{u as d,c as T,l as z}from"./store-6cc89a58.js";import{E as D,D as N}from"./index-88aea455.js";import{C as R,R as V}from"./row-32c75244.js";import{T as B}from"./index-82a3652f.js";import"./index-a2ff71df.js";import"./index-a399152d.js";function F({manga:a}){const s=L(),n=()=>{s(`/manga/${a.id}`)},e=_(a.id,0);return t.jsx(t.Fragment,{children:t.jsx(p,{hoverable:!0,onClick:n,cover:t.jsx("img",{src:e,alt:`cover of ${a.name}`}),children:t.jsx(p.Meta,{title:a.name,description:a.path})})})}const O="_empty_1ndvk_1",U="_pagination_1ndvk_5",g={empty:O,pagination:U},{Title:q}=B;function G(a,[s,n]){return`${s}-${n} of ${a} items`}function at(){const a=k("libraryId"),s=d(T),n=d(z);o.useEffect(()=>{s("library"),n(a)},[a,s,n]);const[e,f]=o.useState(0),[c,h]=o.useState(20),[l,x]=o.useState(null),j=()=>{$(a).catch(r=>{x(r)})},y=(r,w)=>{f(r),h(w)},m=I(),{data:i,error:u,isLoading:C}=P(a,e,c);if(l!=null&&m(l),u!=null&&m(u),C)return t.jsx(M,{});if(i==null)return t.jsx(D,{className:g.empty});const E=i.content,S=i.totalElements,v=E.map(r=>t.jsx(R,{span:4,children:t.jsx(F,{manga:r})},r.id));return t.jsxs(t.Fragment,{children:[t.jsx(q,{children:"Manga List"}),t.jsx(b,{type:"default",onClick:j,children:"Scan Manga"}),t.jsx(N,{}),t.jsxs(V,{gutter:[16,16],children:[...v]}),t.jsx("div",{className:g.pagination,children:t.jsx(A,{current:e,total:S,showTotal:G,pageSize:c,showSizeChanger:!0,onChange:y})})]})}export{at as default};
