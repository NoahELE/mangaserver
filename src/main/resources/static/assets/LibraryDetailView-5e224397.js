import{a as L,r,j as a,L as w}from"./index-45d13f74.js";import{s as I,a as k}from"./api-7abb0bc2.js";import{M as v}from"./MangaPageImage-176428f4.js";import{C as g,P}from"./Pagination-8991860d.js";import{u as p,c as A,l as F}from"./store-9723d98e.js";import{a as T,u as $,E as z,D}from"./utils-34ad3986.js";import{C as N,R}from"./row-781046cf.js";import{B as V,T as B}from"./index-5869aa34.js";import"./index-7b5c3de3.js";import"./index-7d8f0552.js";function O({manga:t}){const s=L(),e=r.useCallback(()=>{s(`/manga/${t.id}`)},[t.id,s]);return a.jsx(a.Fragment,{children:a.jsx(g,{hoverable:!0,onClick:e,cover:a.jsx(v,{manga:t,pageIndex:0}),children:a.jsx(g.Meta,{title:t.name,description:t.path})})})}const{Title:H}=B;function q(t,[s,e]){return`${s}-${e} of ${t} items`}function aa(){const t=T("libraryId"),s=p(A),e=p(F);r.useEffect(()=>{s("library"),e(t)},[t,s,e]);const[c,x]=r.useState(0),[l,f]=r.useState(20),[u,h]=r.useState(null),j=r.useCallback(()=>{I(t).catch(n=>{h(n)})},[t]),C=r.useCallback((n,S)=>{x(n),f(S)},[]),[m,o]=$(),{data:i,error:d,isLoading:y}=k(t,c,l);if(u!=null&&m(u),d!=null&&m(d),y)return a.jsxs(a.Fragment,{children:[a.jsx(w,{}),o]});if(i==null)return a.jsxs(a.Fragment,{children:[a.jsx(z,{}),o]});const b=i.content,E=i.totalElements,M=b.map(n=>a.jsx(N,{span:4,children:a.jsx(O,{manga:n})},n.id));return a.jsxs(a.Fragment,{children:[a.jsx(H,{children:"Manga List"}),a.jsx(V,{type:"default",onClick:j,children:"Scan Manga"}),a.jsx(D,{}),a.jsxs(R,{gutter:[16,16],children:[...M]}),a.jsx("div",{className:"mt-10 flex justify-center",children:a.jsx(P,{current:c,total:E,showTotal:q,pageSize:l,showSizeChanger:!0,onChange:C})}),o]})}export{aa as default};
