import{R as V,r as o,t as X,c as v,d as Z,m as q,h as J,b as K,C as Q,Z as Y,n as c,l as k,V as ee,B as te}from"./index-10941d2d.js";import{m as R,c as ne,d as le,u as se,g as ae}from"./utils-0351fc23.js";import{T as D}from"./index-27ec0876.js";import{b as T,c as oe,a as re}from"./store-d584e7c7.js";import{u as ie,E as ce,D as B}from"./index-4242a09f.js";import"./index-25601d99.js";const me={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},de=me,pe=V.createContext({}),_=pe;var ge=globalThis&&globalThis.__rest||function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(l[n[s]]=e[n[s]]);return l};const be=e=>X(e).map(t=>Object.assign({},t==null?void 0:t.props));function ue(e,t,l){const n=o.useMemo(()=>t||be(l),[t,l]);return o.useMemo(()=>n.map(a=>{var{span:r}=a,p=ge(a,["span"]);return Object.assign(Object.assign({},p),{span:typeof r=="number"?r:R(e,r)})}),[n,e])}function z(e,t,l){let n=e,s=!1;return(l===void 0||l>t)&&(n=Object.assign(Object.assign({},e),{span:t}),s=l!==void 0),[n,s]}function fe(e,t){const l=[];let n=[],s=t,a=!1;return e.filter(r=>r).forEach((r,p)=>{const g=r==null?void 0:r.span,m=g||1;if(p===e.length-1){const[i,b]=z(r,s,g);a=a||b,n.push(i),l.push(n);return}if(m<s)s-=m,n.push(r);else{const[i,b]=z(r,s,m);a=a||b,n.push(i),l.push(n),s=t,n=[]}}),[l,a]}const ye=(e,t)=>{const[l,n]=o.useMemo(()=>fe(t,e),[t,e]);return l},xe=ye,$e=e=>{let{children:t}=e;return t},he=$e;function N(e){return e!=null}const Se=e=>{const{itemPrefixCls:t,component:l,span:n,className:s,style:a,labelStyle:r,contentStyle:p,bordered:g,label:m,content:i,colon:b}=e,f=l;return g?o.createElement(f,{className:v({[`${t}-item-label`]:N(m),[`${t}-item-content`]:N(i)},s),style:a,colSpan:n},N(m)&&o.createElement("span",{style:r},m),N(i)&&o.createElement("span",{style:p},i)):o.createElement(f,{className:v(`${t}-item`,s),style:a,colSpan:n},o.createElement("div",{className:`${t}-item-container`},(m||m===0)&&o.createElement("span",{className:v(`${t}-item-label`,{[`${t}-item-no-colon`]:!b}),style:r},m),(i||i===0)&&o.createElement("span",{className:v(`${t}-item-content`),style:p},i)))},M=Se;function I(e,t,l){let{colon:n,prefixCls:s,bordered:a}=t,{component:r,type:p,showLabel:g,showContent:m,labelStyle:i,contentStyle:b}=l;return e.map((f,y)=>{let{label:h,children:w,prefixCls:S=s,className:j,style:O,labelStyle:u,contentStyle:d,span:x=1,key:C}=f;return typeof r=="string"?o.createElement(M,{key:`${p}-${C||y}`,className:j,style:O,labelStyle:Object.assign(Object.assign({},i),u),contentStyle:Object.assign(Object.assign({},b),d),span:x,colon:n,component:r,itemPrefixCls:S,bordered:a,label:g?h:null,content:m?w:null}):[o.createElement(M,{key:`label-${C||y}`,className:j,style:Object.assign(Object.assign(Object.assign({},i),O),u),span:1,colon:n,component:r[0],itemPrefixCls:S,bordered:a,label:h}),o.createElement(M,{key:`content-${C||y}`,className:j,style:Object.assign(Object.assign(Object.assign({},b),O),d),span:x*2-1,component:r[1],itemPrefixCls:S,bordered:a,content:w})]})}const je=e=>{const t=o.useContext(_),{prefixCls:l,vertical:n,row:s,index:a,bordered:r}=e;return n?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${a}`,className:`${l}-row`},I(s,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:`content-${a}`,className:`${l}-row`},I(s,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:a,className:`${l}-row`},I(s,e,Object.assign({component:r?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Oe=je,Ce=e=>{const{componentCls:t,labelBg:l}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.padding}px ${e.paddingLG}px`,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:l,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.paddingSM}px ${e.paddingLG}px`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.paddingXS}px ${e.padding}px`}}}}}},Ee=e=>{const{componentCls:t,extraColor:l,itemPaddingBottom:n,colonMarginRight:s,colonMarginLeft:a,titleMarginBottom:r}=e;return{[t]:Object.assign(Object.assign(Object.assign({},J(e)),Ce(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:r},[`${t}-title`]:Object.assign(Object.assign({},K),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${a}px ${s}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},ve=Z("Descriptions",e=>{const t=q(e,{});return[Ee(t)]},e=>({labelBg:e.colorFillAlter,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,extraColor:e.colorText}));var we=globalThis&&globalThis.__rest||function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(l[n[s]]=e[n[s]]);return l};const A=e=>{const{prefixCls:t,title:l,extra:n,column:s,colon:a=!0,bordered:r,layout:p,children:g,className:m,rootClassName:i,style:b,size:f,labelStyle:y,contentStyle:h,items:w}=e,S=we(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:j,direction:O,descriptions:u}=o.useContext(Q),d=j("descriptions",t),x=ie(),C=o.useMemo(()=>{var E;return typeof s=="number"?s:(E=R(x,Object.assign(Object.assign({},de),s)))!==null&&E!==void 0?E:3},[x,s]),H=ue(x,w,g),P=Y(f),F=xe(C,H),[W,G]=ve(d),U=o.useMemo(()=>({labelStyle:y,contentStyle:h}),[y,h]);return W(o.createElement(_.Provider,{value:U},o.createElement("div",Object.assign({className:v(d,u==null?void 0:u.className,{[`${d}-${P}`]:P&&P!=="default",[`${d}-bordered`]:!!r,[`${d}-rtl`]:O==="rtl"},m,i,G),style:Object.assign(Object.assign({},u==null?void 0:u.style),b)},S),(l||n)&&o.createElement("div",{className:`${d}-header`},l&&o.createElement("div",{className:`${d}-title`},l),n&&o.createElement("div",{className:`${d}-extra`},n)),o.createElement("div",{className:`${d}-view`},o.createElement("table",null,o.createElement("tbody",null,F.map((E,L)=>o.createElement(Oe,{key:L,index:L,colon:a,prefixCls:d,vertical:p==="vertical",bordered:r,row:E}))))))))};A.Item=he;const $=A,{Text:Ne}=D;function Pe({manga:e,pageIndex:t}){const l=ne(e.id,t);return c.jsxs(c.Fragment,{children:[c.jsx("img",{src:l,alt:`page ${t}`,width:"75%"}),c.jsxs(Ne,{type:"secondary",children:[t+1," / ",e.numOfPages]})]})}const{Title:Me}=D;function De(){const e=le("mangaId"),t=T(oe),l=T(re);o.useEffect(()=>{t("manga"),l(e)},[e,t,l]);const n=se(),s=k(),{data:a,error:r,isLoading:p}=ae(e);if(r!=null&&n(r),p)return c.jsx(ee,{});if(a==null)return c.jsx(ce,{className:"m-10"});const g=()=>{s(`/library/${a.library.id}}`)},m=[];for(let i=0;i<a.numOfPages;i++)m.push(c.jsx(Pe,{manga:a,pageIndex:i},`${a.id}-${i}`));return c.jsxs(c.Fragment,{children:[c.jsx(te,{type:"link",onClick:g,children:"Go back to Library"}),c.jsx(Me,{children:a.name}),c.jsx(B,{}),c.jsxs($,{bordered:!0,column:2,children:[c.jsx($.Item,{label:"Name",children:a.name}),c.jsx($.Item,{label:"Path",children:a.path}),c.jsx($.Item,{label:"Ext",children:a.ext}),c.jsx($.Item,{label:"Number of Pages",children:a.numOfPages}),c.jsx($.Item,{label:"Library",children:a.library.name})]}),c.jsx(B,{}),c.jsxs("div",{className:"flex flex-col items-center",children:[...m]})]})}export{De as default};
