import{R as V,r as o,t as X,c as v,d as Z,m as q,h as J,b as K,C as Q,Z as Y,n as i,l as k,V as ee,B as te}from"./index-b408d044.js";import{m as R,c as ne,d as le,u as se,g as ae}from"./utils-2dc66e36.js";import{T as D}from"./index-4f287563.js";import{b as T,c as oe,a as re}from"./store-5b870d98.js";import{u as ie,E as ce,D as B}from"./index-1b210b1b.js";import"./index-6ab5106a.js";const me={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},de=me,pe=V.createContext({}),_=pe;var ge=globalThis&&globalThis.__rest||function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(l[n[s]]=e[n[s]]);return l};const be=e=>X(e).map(t=>Object.assign({},t==null?void 0:t.props));function ue(e,t,l){const n=o.useMemo(()=>t||be(l),[t,l]);return o.useMemo(()=>n.map(a=>{var{span:r}=a,m=ge(a,["span"]);return Object.assign(Object.assign({},m),{span:typeof r=="number"?r:R(e,r)})}),[n,e])}function z(e,t,l){let n=e;return(l===void 0||l>t)&&(n=Object.assign(Object.assign({},e),{span:t})),n}function fe(e,t){const l=[];let n=[],s=t;return e.filter(a=>a).forEach((a,r)=>{const m=a==null?void 0:a.span,g=m||1;if(r===e.length-1){n.push(z(a,s,m)),l.push(n);return}g<s?(s-=g,n.push(a)):(n.push(z(a,s,g)),l.push(n),s=t,n=[])}),l}const ye=(e,t)=>o.useMemo(()=>fe(t,e),[t,e]),xe=ye,$e=e=>{let{children:t}=e;return t},he=$e;function N(e){return e!=null}const Se=e=>{const{itemPrefixCls:t,component:l,span:n,className:s,style:a,labelStyle:r,contentStyle:m,bordered:g,label:d,content:c,colon:u}=e,f=l;return g?o.createElement(f,{className:v({[`${t}-item-label`]:N(d),[`${t}-item-content`]:N(c)},s),style:a,colSpan:n},N(d)&&o.createElement("span",{style:r},d),N(c)&&o.createElement("span",{style:m},c)):o.createElement(f,{className:v(`${t}-item`,s),style:a,colSpan:n},o.createElement("div",{className:`${t}-item-container`},(d||d===0)&&o.createElement("span",{className:v(`${t}-item-label`,{[`${t}-item-no-colon`]:!u}),style:r},d),(c||c===0)&&o.createElement("span",{className:v(`${t}-item-content`),style:m},c)))},M=Se;function I(e,t,l){let{colon:n,prefixCls:s,bordered:a}=t,{component:r,type:m,showLabel:g,showContent:d,labelStyle:c,contentStyle:u}=l;return e.map((f,y)=>{let{label:h,children:E,prefixCls:S=s,className:j,style:O,labelStyle:b,contentStyle:p,span:x=1,key:C}=f;return typeof r=="string"?o.createElement(M,{key:`${m}-${C||y}`,className:j,style:O,labelStyle:Object.assign(Object.assign({},c),b),contentStyle:Object.assign(Object.assign({},u),p),span:x,colon:n,component:r,itemPrefixCls:S,bordered:a,label:g?h:null,content:d?E:null}):[o.createElement(M,{key:`label-${C||y}`,className:j,style:Object.assign(Object.assign(Object.assign({},c),O),b),span:1,colon:n,component:r[0],itemPrefixCls:S,bordered:a,label:h}),o.createElement(M,{key:`content-${C||y}`,className:j,style:Object.assign(Object.assign(Object.assign({},u),O),p),span:x*2-1,component:r[1],itemPrefixCls:S,bordered:a,content:E})]})}const je=e=>{const t=o.useContext(_),{prefixCls:l,vertical:n,row:s,index:a,bordered:r}=e;return n?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${a}`,className:`${l}-row`},I(s,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),o.createElement("tr",{key:`content-${a}`,className:`${l}-row`},I(s,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):o.createElement("tr",{key:a,className:`${l}-row`},I(s,e,Object.assign({component:r?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Oe=je,Ce=e=>{const{componentCls:t,labelBg:l}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.padding}px ${e.paddingLG}px`,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:l,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.paddingSM}px ${e.paddingLG}px`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${e.paddingXS}px ${e.padding}px`}}}}}},we=e=>{const{componentCls:t,extraColor:l,itemPaddingBottom:n,colonMarginRight:s,colonMarginLeft:a,titleMarginBottom:r}=e;return{[t]:Object.assign(Object.assign(Object.assign({},J(e)),Ce(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:r},[`${t}-title`]:Object.assign(Object.assign({},K),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${a}px ${s}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},ve=Z("Descriptions",e=>{const t=q(e,{});return[we(t)]},e=>({labelBg:e.colorFillAlter,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,extraColor:e.colorText}));var Ee=globalThis&&globalThis.__rest||function(e,t){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(l[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(l[n[s]]=e[n[s]]);return l};const A=e=>{const{prefixCls:t,title:l,extra:n,column:s,colon:a=!0,bordered:r,layout:m,children:g,className:d,rootClassName:c,style:u,size:f,labelStyle:y,contentStyle:h,items:E}=e,S=Ee(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:j,direction:O,descriptions:b}=o.useContext(Q),p=j("descriptions",t),x=ie(),C=o.useMemo(()=>{var w;return typeof s=="number"?s:(w=R(x,Object.assign(Object.assign({},de),s)))!==null&&w!==void 0?w:3},[x,s]),H=ue(x,E,g),P=Y(f),F=xe(C,H),[W,G]=ve(p),U=o.useMemo(()=>({labelStyle:y,contentStyle:h}),[y,h]);return W(o.createElement(_.Provider,{value:U},o.createElement("div",Object.assign({className:v(p,b==null?void 0:b.className,{[`${p}-${P}`]:P&&P!=="default",[`${p}-bordered`]:!!r,[`${p}-rtl`]:O==="rtl"},d,c,G),style:Object.assign(Object.assign({},b==null?void 0:b.style),u)},S),(l||n)&&o.createElement("div",{className:`${p}-header`},l&&o.createElement("div",{className:`${p}-title`},l),n&&o.createElement("div",{className:`${p}-extra`},n)),o.createElement("div",{className:`${p}-view`},o.createElement("table",null,o.createElement("tbody",null,F.map((w,L)=>o.createElement(Oe,{key:L,index:L,colon:a,prefixCls:p,vertical:m==="vertical",bordered:r,row:w}))))))))};A.Item=he;const $=A,{Text:Ne}=D;function Pe({manga:e,pageIndex:t}){const l=ne(e.id,t);return i.jsxs(i.Fragment,{children:[i.jsx("img",{src:l,alt:`page ${t}`,width:"75%"}),i.jsxs(Ne,{type:"secondary",children:[t+1," / ",e.numOfPages]})]})}const{Title:Me}=D;function De(){const e=le("mangaId"),t=T(oe),l=T(re);o.useEffect(()=>{t("manga"),l(e)},[e,t,l]);const n=se(),s=k(),{data:a,error:r,isLoading:m}=ae(e);if(r!=null&&n(r),m)return i.jsx(ee,{});if(a==null)return i.jsx(ce,{className:"m-10"});const g=()=>{s(`/library/${a.library.id}}`)},d=[];for(let c=0;c<a.numOfPages;c++)d.push(i.jsx(Pe,{manga:a,pageIndex:c},`${a.id}-${c}`));return i.jsxs(i.Fragment,{children:[i.jsx(te,{type:"link",onClick:g,children:"Go back to Library"}),i.jsx(Me,{children:a.name}),i.jsx(B,{}),i.jsxs($,{bordered:!0,column:2,children:[i.jsx($.Item,{label:"Name",children:a.name}),i.jsx($.Item,{label:"Path",children:a.path}),i.jsx($.Item,{label:"Ext",children:a.ext}),i.jsx($.Item,{label:"Number of Pages",children:a.numOfPages}),i.jsx($.Item,{label:"Library",children:a.library.name})]}),i.jsx(B,{}),i.jsxs("div",{className:"flex flex-col items-center",children:[...d]})]})}export{De as default};
