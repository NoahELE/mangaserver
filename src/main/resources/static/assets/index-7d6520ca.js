import{r as g,c as Ar,b as tt,g as _r,R as Ir}from"./react-46429a99.js";import{B as je,T as De,C as lt,S as st,a as Wt,D as $e,R as kt,F as _e,I as bt,b as jr,c as Jt}from"./antd-0a849525.js";import{a as Y}from"./axios-67252f11.js";import{c as Kt}from"./lodash-e042c751.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ee={},$r={get exports(){return Ee},set exports(e){Ee=e}},Ue={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=g,Tr=Symbol.for("react.element"),Ur=Symbol.for("react.fragment"),Nr=Object.prototype.hasOwnProperty,Br=Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hr={key:!0,ref:!0,__self:!0,__source:!0};function Vt(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Nr.call(t,n)&&!Hr.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Tr,type:e,key:o,ref:i,props:a,_owner:Br.current}}Ue.Fragment=Ur;Ue.jsx=Vt;Ue.jsxs=Vt;(function(e){e.exports=Ue})($r);const Pe=Ee.Fragment,S=Ee.jsx,V=Ee.jsxs;var rt={},Et=Ar;rt.createRoot=Et.createRoot,rt.hydrateRoot=Et.hydrateRoot;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}var $;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($||($={}));const St="popstate";function zr(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:s}=n.location;return Se("",{pathname:o,search:i,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:q(a)}return kr(t,r,null,e)}function M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wr(){return Math.random().toString(36).substr(2,8)}function Rt(e){return{usr:e.state,key:e.key}}function Se(e,t,r,n){return r===void 0&&(r=null),_({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?J(t):t,{state:r,key:t&&t.key||n||Wr()})}function q(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function J(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Re(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,r=typeof e=="string"?e:q(e);return M(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}function kr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,s=$.Pop,u=null;function d(){s=$.Pop,u&&u({action:s,location:l.location})}function m(v,E){s=$.Push;let p=Se(l.location,v,E);r&&r(p,v);let w=Rt(p),x=l.createHref(p);try{i.pushState(w,"",x)}catch{a.location.assign(x)}o&&u&&u({action:s,location:l.location})}function b(v,E){s=$.Replace;let p=Se(l.location,v,E);r&&r(p,v);let w=Rt(p),x=l.createHref(p);i.replaceState(w,"",x),o&&u&&u({action:s,location:l.location})}let l={get action(){return s},get location(){return e(a,i)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(St,d),u=v,()=>{a.removeEventListener(St,d),u=null}},createHref(v){return t(a,v)},encodeLocation(v){let E=Re(typeof v=="string"?v:q(v));return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:b,go(v){return i.go(v)}};return l}var T;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T||(T={}));function Jr(e){return e.index===!0}function qt(e,t,r){return t===void 0&&(t=[]),r===void 0&&(r=new Set),e.map((n,a)=>{let o=[...t,a],i=typeof n.id=="string"?n.id:o.join("-");return M(n.index!==!0||!n.children,"Cannot specify children on an index route"),M(!r.has(i),'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),r.add(i),Jr(n)?_({},n,{id:i}):_({},n,{id:i,children:n.children?qt(n.children,o,r):void 0})})}function we(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?J(t):t,a=Xt(n.pathname||"/",r);if(a==null)return null;let o=Yt(e);Kr(o);let i=null;for(let s=0;i==null&&s<o.length;++s)i=tn(o[s],an(a));return i}function Yt(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};u.relativePath.startsWith("/")&&(M(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let d=K([n,u.relativePath]),m=r.concat(u);o.children&&o.children.length>0&&(M(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Yt(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:Zr(d,o.index),routesMeta:m})};return e.forEach((o,i)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))a(o,i);else for(let u of Gt(o.path))a(o,i,u)}),t}function Gt(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=Gt(n.join("/")),s=[];return s.push(...i.map(u=>u===""?o:[o,u].join("/"))),a&&s.push(...i),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function Kr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:en(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vr=/^:\w+$/,qr=3,Yr=2,Gr=1,Xr=10,Qr=-2,xt=e=>e==="*";function Zr(e,t){let r=e.split("/"),n=r.length;return r.some(xt)&&(n+=Qr),t&&(n+=Yr),r.filter(a=>!xt(a)).reduce((a,o)=>a+(Vr.test(o)?qr:o===""?Gr:Xr),n)}function en(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function tn(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let i=0;i<r.length;++i){let s=r[i],u=i===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=rn({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d);if(!m)return null;Object.assign(n,m.params);let b=s.route;o.push({params:n,pathname:K([a,m.pathname]),pathnameBase:cn(K([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=K([a,m.pathnameBase]))}return o}function rn(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nn(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((d,m,b)=>{if(m==="*"){let l=s[b]||"";i=o.slice(0,o.length-l.length).replace(/(.)\/+$/,"$1")}return d[m]=on(s[b]||"",m),d},{}),pathname:o,pathnameBase:i,pattern:e}}function nn(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ct(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(i,s)=>(n.push(s),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function an(e){try{return decodeURI(e)}catch(t){return ct(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function on(e,t){try{return decodeURIComponent(e)}catch(r){return ct(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Xt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ct(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ln(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?J(e):e;return{pathname:r?r.startsWith("/")?r:sn(r,t):t,search:un(n),hash:dn(a)}}function sn(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ge(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ut(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qt(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=J(e):(a=_({},e),M(!a.pathname||!a.pathname.includes("?"),Ge("?","pathname","search",a)),M(!a.pathname||!a.pathname.includes("#"),Ge("#","pathname","hash",a)),M(!a.search||!a.search.includes("#"),Ge("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,s;if(n||i==null)s=r;else{let b=t.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),b-=1;a.pathname=l.join("/")}s=b>=0?t[b]:"/"}let u=ln(a,s),d=i&&i!=="/"&&i.endsWith("/"),m=(o||i===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const K=e=>e.join("/").replace(/\/\/+/g,"/"),cn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),un=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Dt extends Error{}class fn{constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,M(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let n=()=>r(new Dt("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(t).reduce((a,o)=>{let[i,s]=o;return Object.assign(a,{[i]:this.trackPromise(i,s)})},{})}trackPromise(t,r){if(!(r instanceof Promise))return r;this.pendingKeys.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,null,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){if(this.controller.signal.aborted&&n instanceof Dt)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(r),this.done&&this.unlistenAbortSignal();const o=this.subscriber;return n?(Object.defineProperty(t,"_error",{get:()=>n}),o&&o(!1),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),o&&o(!1),a)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((r,n)=>this.pendingKeys.delete(n));let t=this.subscriber;t&&t(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(o=>{t.removeEventListener("abort",n),(o||this.done)&&a(o)})})}return r}get done(){return this.pendingKeys.size===0}get unwrappedData(){return M(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:mn(a)})},{})}}function hn(e){return e instanceof Promise&&e._tracked===!0}function mn(e){if(!hn(e))return e;if(e._error)throw e._error;return e._data}class Ne{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Zt(e){return e instanceof Ne}const er=["post","put","patch","delete"],pn=new Set(er),gn=["get",...er],vn=new Set(gn),yn=new Set([301,302,303,307,308]),wn=new Set([307,308]),Xe={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},bn={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},En=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sn=!En;function Rn(e){M(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=qt(e.routes),r=null,n=new Set,a=null,o=null,i=null,s=e.hydrationData!=null,u=we(t,e.history.location,e.basename),d=null;if(u==null){let c=te(404,{pathname:e.history.location.pathname}),{matches:f,route:h}=At(t);u=f,d={[h.id]:c}}let m=!u.some(c=>c.route.loader)||e.hydrationData!=null,b,l={historyAction:e.history.action,location:e.history.location,matches:u,initialized:m,navigation:Xe,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||d,fetchers:new Map},v=$.Pop,E=!1,p,w=!1,x=!1,L=[],U=[],I=new Map,G=0,ke=-1,ue=new Map,Me=new Set,ae=new Map,X=new Map;function pr(){return r=e.history.listen(c=>{let{action:f,location:h}=c;return Q(f,h)}),l.initialized||Q($.Pop,l.location),b}function gr(){r&&r(),n.clear(),p&&p.abort(),l.fetchers.forEach((c,f)=>Ve(f))}function vr(c){return n.add(c),()=>n.delete(c)}function B(c){l=_({},l,c),n.forEach(f=>f(l))}function de(c,f){var h;let R=l.actionData!=null&&l.navigation.formMethod!=null&&re(l.navigation.formMethod)&&l.navigation.state==="loading"&&((h=c.state)==null?void 0:h._isRedirect)!==!0,y;f.actionData?Object.keys(f.actionData).length>0?y=f.actionData:y=null:R?y=l.actionData:y=null;let P=f.loaderData?Ot(l.loaderData,f.loaderData,f.matches||[],f.errors):l.loaderData;B(_({},f,{actionData:y,loaderData:P,historyAction:v,location:c,initialized:!0,navigation:Xe,revalidation:"idle",restoreScrollPosition:l.navigation.formData?!1:yt(c,f.matches||l.matches),preventScrollReset:E})),w||v===$.Pop||(v===$.Push?e.history.push(c,c.state):v===$.Replace&&e.history.replace(c,c.state)),v=$.Pop,E=!1,w=!1,x=!1,L=[],U=[]}async function yr(c,f){if(typeof c=="number"){e.history.go(c);return}let{path:h,submission:R,error:y}=Pt(c,f),P=Se(l.location,h,f&&f.state);P=_({},P,e.history.encodeLocation(P));let C=f&&f.replace!=null?f.replace:void 0,O=$.Push;C===!0?O=$.Replace:C===!1||R!=null&&re(R.formMethod)&&R.formAction===l.location.pathname+l.location.search&&(O=$.Replace);let D=f&&"preventScrollReset"in f?f.preventScrollReset===!0:void 0;return await Q(O,P,{submission:R,pendingError:y,preventScrollReset:D,replace:f&&f.replace})}function wr(){if(Je(),B({revalidation:"loading"}),l.navigation.state!=="submitting"){if(l.navigation.state==="idle"){Q(l.historyAction,l.location,{startUninterruptedRevalidation:!0});return}Q(v||l.historyAction,l.navigation.location,{overrideNavigation:l.navigation})}}async function Q(c,f,h){p&&p.abort(),p=null,v=c,w=(h&&h.startUninterruptedRevalidation)===!0,Cr(l.location,l.matches),E=(h&&h.preventScrollReset)===!0;let R=h&&h.overrideNavigation,y=we(t,f,e.basename);if(!y){let j=te(404,{pathname:f.pathname}),{matches:z,route:W}=At(t);qe(),de(f,{matches:z,loaderData:{},errors:{[W.id]:j}});return}if(Mn(l.location,f)){de(f,{matches:y});return}p=new AbortController;let P=ve(f,p.signal,h&&h.submission),C,O;if(h&&h.pendingError)O={[ie(y).route.id]:h.pendingError};else if(h&&h.submission&&re(h.submission.formMethod)){let j=await br(P,f,h.submission,y,{replace:h.replace});if(j.shortCircuited)return;C=j.pendingActionData,O=j.pendingActionError,R=_({state:"loading",location:f},h.submission),P=new Request(P.url,{signal:P.signal})}let{shortCircuited:D,loaderData:F,errors:A}=await Er(P,f,y,R,h&&h.submission,h&&h.replace,C,O);D||(p=null,de(f,_({matches:y},C?{actionData:C}:{},{loaderData:F,errors:A})))}async function br(c,f,h,R,y){Je();let P=_({state:"submitting",location:f},h);B({navigation:P});let C,O=$t(R,f);if(!O.route.action)C={type:T.error,error:te(405,{method:c.method,pathname:f.pathname,routeId:O.route.id})};else if(C=await ge("action",c,O,R,b.basename),c.signal.aborted)return{shortCircuited:!0};if(le(C)){let D;return y&&y.replace!=null?D=y.replace:D=C.location===l.location.pathname+l.location.search,await fe(l,C,{submission:h,replace:D}),{shortCircuited:!0}}if(be(C)){let D=ie(R,O.route.id);return(y&&y.replace)!==!0&&(v=$.Push),{pendingActionData:{},pendingActionError:{[D.route.id]:C.error}}}if(ne(C))throw new Error("defer() is not supported in actions");return{pendingActionData:{[O.route.id]:C.data}}}async function Er(c,f,h,R,y,P,C,O){let D=R;D||(D=_({state:"loading",location:f,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},y));let F=y||(D.formMethod&&D.formAction&&D.formData&&D.formEncType?{formMethod:D.formMethod,formAction:D.formAction,formData:D.formData,formEncType:D.formEncType}:void 0),[A,j]=Ct(l,h,F,f,x,L,U,C,O,ae);if(qe(N=>!(h&&h.some(H=>H.route.id===N))||A&&A.some(H=>H.route.id===N)),A.length===0&&j.length===0)return de(f,_({matches:h,loaderData:{},errors:O||null},C?{actionData:C}:{})),{shortCircuited:!0};if(!w){j.forEach(H=>{let[Z]=H,me=l.fetchers.get(Z),pe={state:"loading",data:me&&me.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(Z,pe)});let N=C||l.actionData;B(_({navigation:D},N?Object.keys(N).length===0?{actionData:null}:{actionData:N}:{},j.length>0?{fetchers:new Map(l.fetchers)}:{}))}ke=++G,j.forEach(N=>{let[H]=N;return I.set(H,p)});let{results:z,loaderResults:W,fetcherResults:he}=await pt(l.matches,h,A,j,c);if(c.signal.aborted)return{shortCircuited:!0};j.forEach(N=>{let[H]=N;return I.delete(H)});let Oe=_t(z);if(Oe)return await fe(l,Oe,{replace:P}),{shortCircuited:!0};let{loaderData:Ae,errors:oe}=Lt(l,h,A,W,O,j,he,X);X.forEach((N,H)=>{N.subscribe(Z=>{(Z||N.done)&&X.delete(H)})}),Dr();let Ye=vt(ke);return _({loaderData:Ae,errors:oe},Ye||j.length>0?{fetchers:new Map(l.fetchers)}:{})}function mt(c){return l.fetchers.get(c)||bn}function Sr(c,f,h,R){if(Sn)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(c)&&Le(c);let y=we(t,h,e.basename);if(!y){Ke(c,f,te(404,{pathname:h}));return}let{path:P,submission:C}=Pt(h,R,!0),O=$t(y,P);if(C&&re(C.formMethod)){Rr(c,f,P,O,y,C);return}ae.set(c,[P,O,y]),xr(c,f,P,O,y,C)}async function Rr(c,f,h,R,y,P){if(Je(),ae.delete(c),!R.route.action){let k=te(405,{method:P.formMethod,pathname:h,routeId:f});Ke(c,f,k);return}let C=l.fetchers.get(c),O=_({state:"submitting"},P,{data:C&&C.data," _hasFetcherDoneAnything ":!0});l.fetchers.set(c,O),B({fetchers:new Map(l.fetchers)});let D=new AbortController,F=ve(h,D.signal,P);I.set(c,D);let A=await ge("action",F,R,y,b.basename);if(F.signal.aborted){I.get(c)===D&&I.delete(c);return}if(le(A)){I.delete(c),Me.add(c);let k=_({state:"loading"},P,{data:void 0," _hasFetcherDoneAnything ":!0});return l.fetchers.set(c,k),B({fetchers:new Map(l.fetchers)}),fe(l,A,{isFetchActionRedirect:!0})}if(be(A)){Ke(c,f,A.error);return}ne(A)&&M(!1,"defer() is not supported in actions");let j=l.navigation.location||l.location,z=ve(j,D.signal),W=l.navigation.state!=="idle"?we(t,l.navigation.location,e.basename):l.matches;M(W,"Didn't find any matches after fetcher action");let he=++G;ue.set(c,he);let Oe=_({state:"loading",data:A.data},P,{" _hasFetcherDoneAnything ":!0});l.fetchers.set(c,Oe);let[Ae,oe]=Ct(l,W,P,j,x,L,U,{[R.route.id]:A.data},void 0,ae);oe.filter(k=>{let[ee]=k;return ee!==c}).forEach(k=>{let[ee]=k,wt=l.fetchers.get(ee),Or={state:"loading",data:wt&&wt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(ee,Or),I.set(ee,D)}),B({fetchers:new Map(l.fetchers)});let{results:Ye,loaderResults:N,fetcherResults:H}=await pt(l.matches,W,Ae,oe,z);if(D.signal.aborted)return;ue.delete(c),I.delete(c),oe.forEach(k=>{let[ee]=k;return I.delete(ee)});let Z=_t(Ye);if(Z)return fe(l,Z);let{loaderData:me,errors:pe}=Lt(l,l.matches,Ae,N,void 0,oe,H,X),Mr={state:"idle",data:A.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(c,Mr);let Lr=vt(he);l.navigation.state==="loading"&&he>ke?(M(v,"Expected pending action"),p&&p.abort(),de(l.navigation.location,{matches:W,loaderData:me,errors:pe,fetchers:new Map(l.fetchers)})):(B(_({errors:pe,loaderData:Ot(l.loaderData,me,W,pe)},Lr?{fetchers:new Map(l.fetchers)}:{})),x=!1)}async function xr(c,f,h,R,y,P){let C=l.fetchers.get(c),O=_({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},P,{data:C&&C.data," _hasFetcherDoneAnything ":!0});l.fetchers.set(c,O),B({fetchers:new Map(l.fetchers)});let D=new AbortController,F=ve(h,D.signal);I.set(c,D);let A=await ge("loader",F,R,y,b.basename);if(ne(A)&&(A=await ar(A,F.signal,!0)||A),I.get(c)===D&&I.delete(c),F.signal.aborted)return;if(le(A)){await fe(l,A);return}if(be(A)){let z=ie(l.matches,f);l.fetchers.delete(c),B({fetchers:new Map(l.fetchers),errors:{[z.route.id]:A.error}});return}M(!ne(A),"Unhandled fetcher deferred data");let j={state:"idle",data:A.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(c,j),B({fetchers:new Map(l.fetchers)})}async function fe(c,f,h){var R;let{submission:y,replace:P,isFetchActionRedirect:C}=h===void 0?{}:h;f.revalidate&&(x=!0);let O=Se(c.location,f.location,_({_isRedirect:!0},C?{_isFetchActionRedirect:!0}:{}));if(M(O,"Expected a location on the redirect navigation"),typeof((R=window)==null?void 0:R.location)<"u"){let W=Re(f.location).origin;if(window.location.origin!==W){P?window.location.replace(f.location):window.location.assign(f.location);return}}p=null;let D=P===!0?$.Replace:$.Push,{formMethod:F,formAction:A,formEncType:j,formData:z}=c.navigation;!y&&F&&A&&z&&j&&(y={formMethod:F,formAction:A,formEncType:j,formData:z}),wn.has(f.status)&&y&&re(y.formMethod)?await Q(D,O,{submission:_({},y,{formAction:f.location})}):await Q(D,O,{overrideNavigation:{state:"loading",location:O,formMethod:y?y.formMethod:void 0,formAction:y?y.formAction:void 0,formEncType:y?y.formEncType:void 0,formData:y?y.formData:void 0}})}async function pt(c,f,h,R,y){let P=await Promise.all([...h.map(D=>ge("loader",y,D,f,b.basename)),...R.map(D=>{let[,F,A,j]=D;return ge("loader",ve(F,y.signal),A,j,b.basename)})]),C=P.slice(0,h.length),O=P.slice(h.length);return await Promise.all([It(c,h,C,y.signal,!1,l.loaderData),It(c,R.map(D=>{let[,,F]=D;return F}),O,y.signal,!0)]),{results:P,loaderResults:C,fetcherResults:O}}function Je(){x=!0,L.push(...qe()),ae.forEach((c,f)=>{I.has(f)&&(U.push(f),Le(f))})}function Ke(c,f,h){let R=ie(l.matches,f);Ve(c),B({errors:{[R.route.id]:h},fetchers:new Map(l.fetchers)})}function Ve(c){I.has(c)&&Le(c),ae.delete(c),ue.delete(c),Me.delete(c),l.fetchers.delete(c)}function Le(c){let f=I.get(c);M(f,"Expected fetch controller: "+c),f.abort(),I.delete(c)}function gt(c){for(let f of c){let R={state:"idle",data:mt(f).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};l.fetchers.set(f,R)}}function Dr(){let c=[];for(let f of Me){let h=l.fetchers.get(f);M(h,"Expected fetcher: "+f),h.state==="loading"&&(Me.delete(f),c.push(f))}gt(c)}function vt(c){let f=[];for(let[h,R]of ue)if(R<c){let y=l.fetchers.get(h);M(y,"Expected fetcher: "+h),y.state==="loading"&&(Le(h),ue.delete(h),f.push(h))}return gt(f),f.length>0}function qe(c){let f=[];return X.forEach((h,R)=>{(!c||c(R))&&(h.cancel(),f.push(R),X.delete(R))}),f}function Pr(c,f,h){if(a=c,i=f,o=h||(R=>R.key),!s&&l.navigation===Xe){s=!0;let R=yt(l.location,l.matches);R!=null&&B({restoreScrollPosition:R})}return()=>{a=null,i=null,o=null}}function Cr(c,f){if(a&&o&&i){let h=f.map(y=>jt(y,l.loaderData)),R=o(c,h)||c.key;a[R]=i()}}function yt(c,f){if(a&&o&&i){let h=f.map(P=>jt(P,l.loaderData)),R=o(c,h)||c.key,y=a[R];if(typeof y=="number")return y}return null}return b={get basename(){return e.basename},get state(){return l},get routes(){return t},initialize:pr,subscribe:vr,enableScrollRestoration:Pr,navigate:yr,fetch:Sr,revalidate:wr,createHref:c=>e.history.createHref(c),encodeLocation:c=>e.history.encodeLocation(c),getFetcher:mt,deleteFetcher:Ve,dispose:gr,_internalFetchControllers:I,_internalActiveDeferreds:X},b}function xn(e){return e!=null&&"formData"in e}function Pt(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:q(e);if(!t||!xn(t))return{path:n};if(t.formMethod&&!On(t.formMethod))return{path:n,error:te(405,{method:t.formMethod})};let a;if(t.formData&&(a={formMethod:t.formMethod||"get",formAction:nr(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},re(a.formMethod)))return{path:n,submission:a};let o=J(n);try{let i=rr(t.formData);r&&o.search&&or(o.search)&&i.append("index",""),o.search="?"+i}catch{return{path:n,error:te(400)}}return{path:q(o),submission:a}}function Dn(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Ct(e,t,r,n,a,o,i,s,u,d){let m=u?Object.values(u)[0]:s?Object.values(s)[0]:void 0,b=u?Object.keys(u)[0]:void 0,v=Dn(t,b).filter((p,w)=>p.route.loader!=null&&(Pn(e.loaderData,e.matches[w],p)||o.some(x=>x===p.route.id)||Mt(e.location,e.matches[w],r,n,p,a,m))),E=[];return d&&d.forEach((p,w)=>{let[x,L,U]=p;i.includes(w)?E.push([w,x,L,U]):a&&Mt(x,L,r,x,L,a,m)&&E.push([w,x,L,U])}),[v,E]}function Pn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function tr(e,t){let r=e.route.path;return e.pathname!==t.pathname||r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Mt(e,t,r,n,a,o,i){let s=Re(e),u=t.params,d=Re(n),m=a.params,b=tr(t,a)||s.toString()===d.toString()||s.search!==d.search||o;if(a.route.shouldRevalidate){let l=a.route.shouldRevalidate(_({currentUrl:s,currentParams:u,nextUrl:d,nextParams:m},r,{actionResult:i,defaultShouldRevalidate:b}));if(typeof l=="boolean")return l}return b}async function ge(e,t,r,n,a,o,i,s){a===void 0&&(a="/"),o===void 0&&(o=!1),i===void 0&&(i=!1);let u,d,m,b=new Promise((v,E)=>m=E),l=()=>m();t.signal.addEventListener("abort",l);try{let v=r.route[e];M(v,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),d=await Promise.race([v({request:t,params:r.params,context:s}),b]),M(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(v){u=T.error,d=v}finally{t.signal.removeEventListener("abort",l)}if(Ln(d)){let v=d.status;if(yn.has(v)){let w=d.headers.get("Location");if(M(w,"Redirects returned/thrown from loaders/actions must have a Location header"),!(/^[a-z+]+:\/\//i.test(w)||w.startsWith("//"))){let L=n.slice(0,n.indexOf(r)+1),U=ut(L).map(G=>G.pathnameBase),I=Qt(w,U,new URL(t.url).pathname);if(M(q(I),"Unable to resolve redirect location: "+w),a){let G=I.pathname;I.pathname=G==="/"?a:K([a,G])}w=q(I)}if(o)throw d.headers.set("Location",w),d;return{type:T.redirect,status:v,location:w,revalidate:d.headers.get("X-Remix-Revalidate")!==null}}if(i)throw{type:u||T.data,response:d};let E,p=d.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?E=await d.json():E=await d.text(),u===T.error?{type:u,error:new Ne(v,d.statusText,E),headers:d.headers}:{type:T.data,data:E,statusCode:d.status,headers:d.headers}}return u===T.error?{type:u,error:d}:d instanceof fn?{type:T.deferred,deferredData:d}:{type:T.data,data:d}}function ve(e,t,r){let n=Re(nr(e)).toString(),a={signal:t};if(r&&re(r.formMethod)){let{formMethod:o,formEncType:i,formData:s}=r;a.method=o.toUpperCase(),a.body=i==="application/x-www-form-urlencoded"?rr(s):s}return new Request(n,a)}function rr(e){let t=new URLSearchParams;for(let[r,n]of e.entries())M(typeof n=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(r,n);return t}function Cn(e,t,r,n,a){let o={},i=null,s,u=!1,d={};return r.forEach((m,b)=>{let l=t[b].route.id;if(M(!le(m),"Cannot handle redirect results in processLoaderData"),be(m)){let v=ie(e,l),E=m.error;n&&(E=Object.values(n)[0],n=void 0),i=i||{},i[v.route.id]==null&&(i[v.route.id]=E),o[l]=void 0,u||(u=!0,s=Zt(m.error)?m.error.status:500),m.headers&&(d[l]=m.headers)}else ne(m)?(a&&a.set(l,m.deferredData),o[l]=m.deferredData.data):(o[l]=m.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(s=m.statusCode),m.headers&&(d[l]=m.headers))}),n&&(i=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:i,statusCode:s||200,loaderHeaders:d}}function Lt(e,t,r,n,a,o,i,s){let{loaderData:u,errors:d}=Cn(t,r,n,a,s);for(let m=0;m<o.length;m++){let[b,,l]=o[m];M(i!==void 0&&i[m]!==void 0,"Did not find corresponding fetcher result");let v=i[m];if(be(v)){let E=ie(e.matches,l.route.id);d&&d[E.route.id]||(d=_({},d,{[E.route.id]:v.error})),e.fetchers.delete(b)}else{if(le(v))throw new Error("Unhandled fetcher revalidation redirect");if(ne(v))throw new Error("Unhandled fetcher deferred data");{let E={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(b,E)}}}return{loaderData:u,errors:d}}function Ot(e,t,r,n){let a=_({},t);for(let o of r){let i=o.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function ie(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function At(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function te(e,t){let{pathname:r,routeId:n,method:a}=t===void 0?{}:t,o="Unknown Server Error",i="Unknown @remix-run/router error";return e===400?(o="Bad Request",a&&r&&n?i="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i="Cannot submit binary form data using GET"):e===403?(o="Forbidden",i='Route "'+n+'" does not match URL "'+r+'"'):e===404?(o="Not Found",i='No route matches URL "'+r+'"'):e===405&&(o="Method Not Allowed",a&&r&&n?i="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(i='Invalid request method "'+a.toUpperCase()+'"')),new Ne(e||500,o,new Error(i),!0)}function _t(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(le(r))return r}}function nr(e){let t=typeof e=="string"?J(e):e;return q(_({},t,{hash:""}))}function Mn(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function ne(e){return e.type===T.deferred}function be(e){return e.type===T.error}function le(e){return(e&&e.type)===T.redirect}function Ln(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function On(e){return vn.has(e)}function re(e){return pn.has(e)}async function It(e,t,r,n,a,o){for(let i=0;i<r.length;i++){let s=r[i],u=t[i],d=e.find(b=>b.route.id===u.route.id),m=d!=null&&!tr(d,u)&&(o&&o[u.route.id])!==void 0;ne(s)&&(a||m)&&await ar(s,n,a).then(b=>{b&&(r[i]=b||r[i])})}}async function ar(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:T.data,data:e.deferredData.unwrappedData}}catch(a){return{type:T.error,error:a}}return{type:T.data,data:e.deferredData.data}}}function or(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function jt(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function $t(e,t){let r=typeof t=="string"?J(t).search:t.search;if(e[e.length-1].route.index&&or(r||""))return e[e.length-1];let n=ut(e);return n[n.length-1]}/**
 * React Router v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fe.apply(this,arguments)}function An(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const _n=typeof Object.is=="function"?Object.is:An,{useState:In,useEffect:jn,useLayoutEffect:$n,useDebugValue:Fn}=tt;function Tn(e,t,r){const n=t(),[{inst:a},o]=In({inst:{value:n,getSnapshot:t}});return $n(()=>{a.value=n,a.getSnapshot=t,Qe(a)&&o({inst:a})},[e,n,t]),jn(()=>(Qe(a)&&o({inst:a}),e(()=>{Qe(a)&&o({inst:a})})),[e]),Fn(n),n}function Qe(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!_n(r,n)}catch{return!0}}function Un(e,t,r){return t()}const Nn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bn=!Nn,Hn=Bn?Un:Tn,zn="useSyncExternalStore"in tt?(e=>e.useSyncExternalStore)(tt):Hn,dt=g.createContext(null),ft=g.createContext(null),ht=g.createContext(null),Be=g.createContext(null),ce=g.createContext({outlet:null,matches:[]}),ir=g.createContext(null);function He(){return g.useContext(Be)!=null}function lr(){return He()||M(!1),g.useContext(Be).location}function ze(){He()||M(!1);let{basename:e,navigator:t}=g.useContext(ht),{matches:r}=g.useContext(ce),{pathname:n}=lr(),a=JSON.stringify(ut(r).map(s=>s.pathnameBase)),o=g.useRef(!1);return g.useEffect(()=>{o.current=!0}),g.useCallback(function(s,u){if(u===void 0&&(u={}),!o.current)return;if(typeof s=="number"){t.go(s);return}let d=Qt(s,JSON.parse(a),n,u.relative==="path");e!=="/"&&(d.pathname=d.pathname==="/"?e:K([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,a,n])}function sr(){let{matches:e}=g.useContext(ce),t=e[e.length-1];return t?t.params:{}}function Wn(e,t){He()||M(!1);let{navigator:r}=g.useContext(ht),n=g.useContext(ft),{matches:a}=g.useContext(ce),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let u=lr(),d;if(t){var m;let p=typeof t=="string"?J(t):t;s==="/"||(m=p.pathname)!=null&&m.startsWith(s)||M(!1),d=p}else d=u;let b=d.pathname||"/",l=s==="/"?b:b.slice(s.length)||"/",v=we(e,{pathname:l}),E=Vn(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:K([s,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?s:K([s,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,n||void 0);return t&&E?g.createElement(Be.Provider,{value:{location:Fe({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$.Pop}},E):E}function kn(){let e=cr(),t=Zt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unhandled Thrown Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,g.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",g.createElement("code",{style:o},"errorElement")," props onÂ ",g.createElement("code",{style:o},"<Route>")))}class Jn extends g.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?g.createElement(ce.Provider,{value:this.props.routeContext},g.createElement(ir.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kn(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(dt);return a&&a.static&&a.staticContext&&r.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ce.Provider,{value:t},n)}function Vn(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,a=r==null?void 0:r.errors;if(a!=null){let o=n.findIndex(i=>i.route.id&&(a==null?void 0:a[i.route.id]));o>=0||M(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,i,s)=>{let u=i.route.id?a==null?void 0:a[i.route.id]:null,d=r?i.route.errorElement||g.createElement(kn,null):null,m=t.concat(n.slice(0,s+1)),b=()=>g.createElement(Kn,{match:i,routeContext:{outlet:o,matches:m}},u?d:i.route.element!==void 0?i.route.element:o);return r&&(i.route.errorElement||s===0)?g.createElement(Jn,{location:r.location,component:d,error:u,children:b(),routeContext:{outlet:null,matches:m}}):b()},null)}var Ft;(function(e){e.UseRevalidator="useRevalidator"})(Ft||(Ft={}));var Te;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Te||(Te={}));function qn(e){let t=g.useContext(ft);return t||M(!1),t}function Yn(e){let t=g.useContext(ce);return t||M(!1),t}function Gn(e){let t=Yn(),r=t.matches[t.matches.length-1];return r.route.id||M(!1),r.route.id}function cr(){var e;let t=g.useContext(ir),r=qn(Te.UseRouteError),n=Gn(Te.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function Xn(e){let{fallbackElement:t,router:r}=e,n=zn(r.subscribe,()=>r.state,()=>r.state),a=g.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:i=>r.navigate(i),push:(i,s,u)=>r.navigate(i,{state:s,preventScrollReset:u==null?void 0:u.preventScrollReset}),replace:(i,s,u)=>r.navigate(i,{replace:!0,state:s,preventScrollReset:u==null?void 0:u.preventScrollReset})}),[r]),o=r.basename||"/";return g.createElement(g.Fragment,null,g.createElement(dt.Provider,{value:{router:r,navigator:a,static:!1,basename:o}},g.createElement(ft.Provider,{value:n},g.createElement(Zn,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:a},r.state.initialized?g.createElement(ea,null):t))),null)}function Qn(e){M(!1)}function Zn(e){let{basename:t="/",children:r=null,location:n,navigationType:a=$.Pop,navigator:o,static:i=!1}=e;He()&&M(!1);let s=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:s,navigator:o,static:i}),[s,o,i]);typeof n=="string"&&(n=J(n));let{pathname:d="/",search:m="",hash:b="",state:l=null,key:v="default"}=n,E=g.useMemo(()=>{let p=Xt(d,s);return p==null?null:{pathname:p,search:m,hash:b,state:l,key:v}},[s,d,m,b,l,v]);return E==null?null:g.createElement(ht.Provider,{value:u},g.createElement(Be.Provider,{children:r,value:{location:E,navigationType:a}}))}function ea(e){let{children:t,location:r}=e,n=g.useContext(dt),a=n&&!t?n.router.routes:nt(t);return Wn(a,r)}var Tt;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Tt||(Tt={}));new Promise(()=>{});function nt(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;if(n.type===g.Fragment){r.push.apply(r,nt(n.props.children,t));return}n.type!==Qn&&M(!1),!n.props.index||!n.props.children||M(!1);let o=[...t,a],i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(i.children=nt(n.props.children,o)),r.push(i)}),r}function ur(e){return e.map(t=>{let r=Fe({},t);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=ur(r.children)),r})}/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(this,arguments)}function ta(e,t){return Rn({basename:t==null?void 0:t.basename,history:zr({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ra(),routes:ur(e)}).initialize()}function ra(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=at({},t,{errors:na(t.errors)})),t}function na(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new Ne(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){let o=new Error(a.message);o.stack="",r[n]=o}else r[n]=a;return r}var Ut;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ut||(Ut={}));var Nt;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Nt||(Nt={}));const{Title:aa,Paragraph:oa}=De,Ze={margin:"20px 10px"};function Ie(){const e=cr(),t=ze();let r;return e instanceof Error?r=`${e.name}
${e.message}`:r=e+"",V(Pe,{children:[S(aa,{style:Ze,children:"Error"}),S(oa,{code:!0,copyable:!0,style:{margin:20},children:r}),S(je,{type:"primary",onClick:()=>t("/login"),style:Ze,children:"Login"}),S(je,{type:"default",onClick:()=>t(-1),style:Ze,children:"Return to Last Page"})]})}const Bt=e=>{let t;const r=new Set,n=(u,d)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const b=t;t=d??typeof m!="object"?m:Object.assign({},t,m),r.forEach(l=>l(t,b))}},a=()=>t,s={setState:n,getState:a,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),r.clear()}};return t=e(n,a,s),s},ia=e=>e?Bt(e):Bt;var ot={},la={get exports(){return ot},set exports(e){ot=e}},dr={},it={},sa={get exports(){return it},set exports(e){it=e}},fr={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var se=g;function ca(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:ca,da=se.useState,fa=se.useEffect,ha=se.useLayoutEffect,ma=se.useDebugValue;function pa(e,t){var r=t(),n=da({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return ha(function(){a.value=r,a.getSnapshot=t,et(a)&&o({inst:a})},[e,r,t]),fa(function(){return et(a)&&o({inst:a}),e(function(){et(a)&&o({inst:a})})},[e]),ma(r),r}function et(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ua(e,r)}catch{return!0}}function ga(e,t){return t()}var va=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ga:pa;fr.useSyncExternalStore=se.useSyncExternalStore!==void 0?se.useSyncExternalStore:va;(function(e){e.exports=fr})(sa);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=g,ya=it;function wa(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:wa,Ea=ya.useSyncExternalStore,Sa=We.useRef,Ra=We.useEffect,xa=We.useMemo,Da=We.useDebugValue;dr.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var o=Sa(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=xa(function(){function u(v){if(!d){if(d=!0,m=v,v=n(v),a!==void 0&&i.hasValue){var E=i.value;if(a(E,v))return b=E}return b=v}if(E=b,ba(m,v))return E;var p=n(v);return a!==void 0&&a(E,p)?E:(m=v,b=p)}var d=!1,m,b,l=r===void 0?null:r;return[function(){return u(t())},l===null?void 0:function(){return u(l())}]},[t,r,n,a]);var s=Ea(e,o[0],o[1]);return Ra(function(){i.hasValue=!0,i.value=s},[s]),Da(s),s};(function(e){e.exports=dr})(la);const Pa=_r(ot),{useSyncExternalStoreWithSelector:Ca}=Pa;function Ma(e,t=e.getState,r){const n=Ca(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return g.useDebugValue(n),n}const Ht=e=>{({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&typeof e!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const t=typeof e=="function"?ia(e):e,r=(n,a)=>Ma(t,n,a);return Object.assign(r,t),r},La=e=>e?Ht(e):Ht;function Oa(e){let t;try{t=e()}catch{return}return{getItem:n=>{var a;const o=s=>s===null?null:JSON.parse(s),i=(a=t.getItem(n))!=null?a:null;return i instanceof Promise?i.then(o):o(i)},setItem:(n,a)=>t.setItem(n,JSON.stringify(a)),removeItem:n=>t.removeItem(n)}}const xe=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return xe(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return xe(n)(r)}}}},Aa=(e,t)=>(r,n,a)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...t},i=!1;const s=new Set,u=new Set;let d;try{d=o.getStorage()}catch{}if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...w)},n,a);const m=xe(o.serialize),b=()=>{const w=o.partialize({...n()});let x;const L=m({state:w,version:o.version}).then(U=>d.setItem(o.name,U)).catch(U=>{x=U});if(x)throw x;return L},l=a.setState;a.setState=(w,x)=>{l(w,x),b()};const v=e((...w)=>{r(...w),b()},n,a);let E;const p=()=>{var w;if(!d)return;i=!1,s.forEach(L=>L(n()));const x=((w=o.onRehydrateStorage)==null?void 0:w.call(o,n()))||void 0;return xe(d.getItem.bind(d))(o.name).then(L=>{if(L)return o.deserialize(L)}).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==o.version){if(o.migrate)return o.migrate(L.state,L.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return L.state}).then(L=>{var U;return E=o.merge(L,(U=n())!=null?U:v),r(E,!0),b()}).then(()=>{x==null||x(E,void 0),i=!0,u.forEach(L=>L(E))}).catch(L=>{x==null||x(void 0,L)})};return a.persist={setOptions:w=>{o={...o,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:w=>(s.add(w),()=>{s.delete(w)}),onFinishHydration:w=>(u.add(w),()=>{u.delete(w)})},p(),E||v},_a=(e,t)=>(r,n,a)=>{let o={storage:Oa(()=>localStorage),partialize:p=>p,version:0,merge:(p,w)=>({...w,...p}),...t},i=!1;const s=new Set,u=new Set;let d=o.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...p)},n,a);const m=()=>{const p=o.partialize({...n()});return d.setItem(o.name,{state:p,version:o.version})},b=a.setState;a.setState=(p,w)=>{b(p,w),m()};const l=e((...p)=>{r(...p),m()},n,a);let v;const E=()=>{var p;if(!d)return;i=!1,s.forEach(x=>x(n()));const w=((p=o.onRehydrateStorage)==null?void 0:p.call(o,n()))||void 0;return xe(d.getItem.bind(d))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return o.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var L;return v=o.merge(x,(L=n())!=null?L:l),r(v,!0),m()}).then(()=>{w==null||w(v,void 0),i=!0,u.forEach(x=>x(v))}).catch(x=>{w==null||w(void 0,x)})};return a.persist={setOptions:p=>{o={...o,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>i,onHydrate:p=>(s.add(p),()=>{s.delete(p)}),onFinishHydration:p=>(u.add(p),()=>{u.delete(p)})},E(),v||l},Ia=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(({BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Please use `storage` option instead."),Aa(e,t)):_a(e,t),ja=Ia,hr=La()(ja(e=>({jwt:"",setJwt(t){e({jwt:t})}}),{name:"mangaserver-storage"}));Y.defaults.baseURL="/api";function Ce(){const{jwt:e}=hr.getState();if(e.length!==0)Y.defaults.headers.common.Authorization=`Bearer ${e}`;else throw new Error("jwt is empty")}async function $a(e){const{data:{code:t,msg:r,data:n}}=await Y.post("/user/login",e);if(t===0)return n;throw new Error(`code: ${t}
login failed
${r}`)}async function Fa(){Ce();const{data:{code:e,msg:t,data:r}}=await Y.get("/library");if(e===0)return r;throw new Error(`code: ${e}
failed to get libraries
${t}`)}async function Ta(e){Ce();const{data:{code:t,msg:r,data:n}}=await Y.get(`/library/${e}/listManga`);if(t===0)return n;throw new Error(`code: ${t}
failed to get mangas
${r}`)}async function Ua(e){Ce();const{data:{code:t,msg:r}}=await Y.get(`/library/${e}/scanManga`);if(t!==0)throw new Error(`code: ${t}
failed to scan manga
${r}`)}async function Na(e){Ce();const{data:{code:t,msg:r,data:n}}=await Y.get(`/manga/${e}`);if(t===0)return n;throw new Error(`${t}
failed to get manga
${r}`)}async function mr(e,t){Ce();const{data:r}=await Y.get(`/manga/${e}/page/${t}`,{responseType:"blob"});return URL.createObjectURL(r)}const{Meta:Ba}=lt;function Ha({manga:e}){const{id:t,name:r,path:n}=e,a=ze(),[o,i]=g.useState(null);return g.useEffect(()=>{mr(e.id,0).then(i)},[e.id]),S(lt,{hoverable:!0,onClick:()=>a(`/manga/${t}`),cover:o===null?S(st,{}):S("img",{src:o}),children:S(Ba,{title:r,description:n})})}const{Title:za}=De;function Wa(){const{libraryId:e}=sr();if(e===void 0)throw new Error("libraryId does not exist");const t=+e;if(isNaN(t))throw new Error("libraryId is not a number");const[r,n]=g.useState([]),[a,o]=g.useState(null);if(a!==null)throw a;g.useEffect(()=>{Ta(t).then(n).catch(o)},[t]);const i=Kt(r,4).map(s=>s.map(u=>S(Wt,{span:6,children:S(Ha,{manga:u})},u.id)));return V(Pe,{children:[S(za,{children:"Manga List"}),S(je,{type:"default",onClick:()=>Ua(t).catch(o),children:"Scan Manga"}),S($e,{}),V(kt,{gutter:[16,16],children:[...i]})]})}function ka({library:{id:e,name:t,path:r}}){const n=ze();return S(lt,{title:t,hoverable:!0,onClick:()=>n(`/library/${e}`),children:r})}const{Title:Ja}=De;function Ka(){const[e,t]=g.useState([]),[r,n]=g.useState(null);if(r!==null)throw r;g.useEffect(()=>{Fa().then(t).catch(n)},[]);const a=Kt(e,4).map((o,i)=>S(kt,{gutter:16,children:o.map((s,u)=>S(Wt,{span:6,children:S(ka,{library:s})},`${i}-${u}`))},i));return V(Pe,{children:[S(Ja,{children:"Library List"}),S($e,{}),...a]})}const{Title:Va}=De;function qa(){const e=ze(),t=hr(a=>a.setJwt),[r,n]=g.useState(null);if(r!==null)throw r;return V(Pe,{children:[S(Va,{style:{textAlign:"center",margin:"100px 0"},children:"MangaServer"}),V(_e,{labelCol:{span:8},wrapperCol:{span:12},onFinish:a=>{$a(a).then(o=>{t(o),e("/")}).catch(n)},style:{margin:"0 400px"},children:[S(_e.Item,{name:"username",label:"Username",rules:[{required:!0,message:"please input your username"}],children:S(bt,{})}),S(_e.Item,{name:"password",label:"Password",rules:[{required:!0,message:"please input your password"}],children:S(bt.Password,{})}),S(_e.Item,{wrapperCol:{offset:8,span:16},children:S(je,{type:"primary",htmlType:"submit",children:"Login"})})]})]})}function Ya(){return S("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center"},children:S(st,{size:"large"})})}function Ga({mangaId:e,pageId:t}){const[r,n]=g.useState(null),[a,o]=g.useState(null);if(a!==null)throw a;return g.useEffect(()=>{mr(e,t).then(n).catch(o)},[e,t]),r===null?S(st,{}):S(jr,{alt:`page ${t}`,src:r,width:"75%",preview:!1,placeholder:!0})}const{Title:Xa}=De,{Item:ye}=Jt;function Qa(){const{mangaId:e}=sr();if(e===void 0)throw new Error("mangaId does not exist");const t=+e;if(isNaN(t))throw new Error("mangaId is not a number");const[r,n]=g.useState(null),[a,o]=g.useState(null);if(a!==null)throw a;if(g.useEffect(()=>{Na(t).then(n).catch(o)},[t]),r===null)return S(Ya,{});{const i=[];for(let s=0;s<r.numOfPages;s++)i.push(S(Ga,{mangaId:t,pageId:s},s));return V(Pe,{children:[S(Xa,{children:r.name}),S($e,{}),V(Jt,{bordered:!0,column:2,children:[S(ye,{label:"Name",children:r.name}),S(ye,{label:"Path",children:r.path}),S(ye,{label:"Ext",children:r.ext}),S(ye,{label:"Number of Pages",children:r.numOfPages}),S(ye,{label:"Library",children:r.library.name})]}),S($e,{}),...i]})}}const Za=ta([{path:"/",element:S(Ka,{}),errorElement:S(Ie,{})},{path:"/login",element:S(qa,{}),errorElement:S(Ie,{})},{path:"/library/:libraryId",element:S(Wa,{}),errorElement:S(Ie,{})},{path:"/manga/:mangaId",element:S(Qa,{}),errorElement:S(Ie,{})}]),zt=document.getElementById("root");zt!==null&&rt.createRoot(zt).render(S(Ir.StrictMode,{children:S(Xn,{router:Za})}));
