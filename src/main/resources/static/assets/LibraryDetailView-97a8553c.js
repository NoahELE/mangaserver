import{a as w,j as t,r as o,L,B as M}from"./index-31fdd23e.js";import{b as _,c as k,u as I,d as P,s as $}from"./utils-248dcbb5.js";import{C as p,a as A}from"./Pagination-3f603ee9.js";import{u as d,c as T,l as z}from"./store-74e93cda.js";import{E as D,D as N}from"./index-ac681deb.js";import{C as R,R as V}from"./row-8e0430c2.js";import{T as B}from"./index-6f3800bf.js";import"./index-279bb3c6.js";import"./index-9b8ff59d.js";function F({manga:a}){const s=w(),n=()=>{s(`/manga/${a.id}`)},e=_(a.id,0);return t.jsx(t.Fragment,{children:t.jsx(p,{hoverable:!0,onClick:n,cover:t.jsx("img",{src:e,alt:`cover of ${a.name}`}),children:t.jsx(p.Meta,{title:a.name,description:a.path})})})}const O="_empty_1ndvk_1",U="_pagination_1ndvk_5",g={empty:O,pagination:U},{Title:q}=B;function G(a,[s,n]){return`${s}-${n} of ${a} items`}function at(){const a=k("libraryId"),s=d(T),n=d(z);o.useEffect(()=>{s("library"),n(a)},[a,s,n]);const[e,f]=o.useState(0),[c,h]=o.useState(20),[l,x]=o.useState(null),j=()=>{$(a).catch(r=>{x(r)})},y=(r,b)=>{f(r),h(b)},m=I(),{data:i,error:u,isLoading:C}=P(a,e,c);if(l!=null&&m(l),u!=null&&m(u),C)return t.jsx(L,{});if(i==null)return t.jsx(D,{className:g.empty});const E=i.content,S=i.totalElements,v=E.map(r=>t.jsx(R,{span:4,children:t.jsx(F,{manga:r})},r.id));return t.jsxs(t.Fragment,{children:[t.jsx(q,{children:"Manga List"}),t.jsx(M,{type:"default",onClick:j,children:"Scan Manga"}),t.jsx(N,{}),t.jsxs(V,{gutter:[16,16],children:[...v]}),t.jsx("div",{className:g.pagination,children:t.jsx(A,{current:e,total:S,showTotal:G,pageSize:c,showSizeChanger:!0,onChange:y})})]})}export{at as default};
