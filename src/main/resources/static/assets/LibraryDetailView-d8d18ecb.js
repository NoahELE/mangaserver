import{a as L,j as t,r as o,L as M}from"./index-2fc1dac4.js";import{a as w,s as P}from"./api-ac7b9e11.js";import{a as I,b as $,u as A,E as F,D as T}from"./utils-b6d74ac3.js";import{C as d,P as k}from"./Pagination-313187a8.js";import{u as p,c as z,l as D}from"./store-84afa384.js";import{C as N,R}from"./row-f6088300.js";import{B as V,T as _}from"./index-bcc28999.js";import"./index-952746e6.js";import"./index-1ac645aa.js";function B({manga:a}){const s=L(),n=()=>{s(`/manga/${a.id}`)},e=I(a.id,0);return t.jsx(t.Fragment,{children:t.jsx(d,{hoverable:!0,onClick:n,cover:t.jsx("img",{src:e,alt:`cover of ${a.name}`}),children:t.jsx(d.Meta,{title:a.name,description:a.path})})})}const O="_pagination_1qo0v_1",q={pagination:O},{Title:H}=_;function U(a,[s,n]){return`${s}-${n} of ${a} items`}function at(){const a=$("libraryId"),s=p(z),n=p(D);o.useEffect(()=>{s("library"),n(a)},[a,s,n]);const[e,x]=o.useState(0),[l,f]=o.useState(20),[u,h]=o.useState(null),j=()=>{P(a).catch(r=>{h(r)})},C=(r,v)=>{x(r),f(v)},[m,i]=A(),{data:c,error:g,isLoading:y}=w(a,e,l);if(u!=null&&m(u),g!=null&&m(g),y)return t.jsxs(t.Fragment,{children:[t.jsx(M,{}),i]});if(c==null)return t.jsxs(t.Fragment,{children:[t.jsx(F,{}),i]});const E=c.content,S=c.totalElements,b=E.map(r=>t.jsx(N,{span:4,children:t.jsx(B,{manga:r})},r.id));return t.jsxs(t.Fragment,{children:[t.jsx(H,{children:"Manga List"}),t.jsx(V,{type:"default",onClick:j,children:"Scan Manga"}),t.jsx(T,{}),t.jsxs(R,{gutter:[16,16],children:[...b]}),t.jsx("div",{className:q.pagination,children:t.jsx(k,{current:e,total:S,showTotal:U,pageSize:l,showSizeChanger:!0,onChange:C})}),i]})}export{at as default};
